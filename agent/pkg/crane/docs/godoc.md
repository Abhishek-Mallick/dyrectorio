<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# crane

```go
import "gitlab.com/dyrector_io/dyrector.io/go/pkg/crane"
```

## Index

- [func PrintDeployRequestStrings(req *agent.DeployRequest) []string](<#func-printdeployrequeststrings>)
- [type GrpcConnection](<#type-grpcconnection>)
  - [func (g *GrpcConnection) SetClient(client agent.AgentClient)](<#func-grpcconnection-setclient>)
  - [func (g *GrpcConnection) SetConn(conn *grpc.ClientConn)](<#func-grpcconnection-setconn>)


## func PrintDeployRequestStrings

```go
func PrintDeployRequestStrings(req *agent.DeployRequest) []string
```

## type GrpcConnection

```go
type GrpcConnection struct {
    Conn   *grpc.ClientConn
    Client agent.AgentClient
}
```

```go
var GrpcConn *GrpcConnection
```

### func \(\*GrpcConnection\) SetClient

```go
func (g *GrpcConnection) SetClient(client agent.AgentClient)
```

### func \(\*GrpcConnection\) SetConn

```go
func (g *GrpcConnection) SetConn(conn *grpc.ClientConn)
```

# controller

```go
import "gitlab.com/dyrector_io/dyrector.io/go/pkg/crane/controller"
```

## Index

- [func AddRegistry(c *gin.Context)](<#func-addregistry>)
- [func BatchDeployImage(c *gin.Context)](<#func-batchdeployimage>)
- [func DeleteDeployment(c *gin.Context)](<#func-deletedeployment>)
- [func DeployImage(c *gin.Context)](<#func-deployimage>)
- [func DeployVersion(c *gin.Context)](<#func-deployversion>)
- [func DescribeDeployment(c *gin.Context)](<#func-describedeployment>)
- [func GetDeploymentLogs(c *gin.Context)](<#func-getdeploymentlogs>)
- [func GetDeploymentStatus(c *gin.Context)](<#func-getdeploymentstatus>)
- [func GetDeployments(c *gin.Context)](<#func-getdeployments>)
- [func GetNamespaces(c *gin.Context)](<#func-getnamespaces>)
- [func UpdateRunningCrane(c *gin.Context)](<#func-updaterunningcrane>)
- [type DeploymentQuery](<#type-deploymentquery>)
- [type RegistryAuthRequest](<#type-registryauthrequest>)
- [type UpdateWebhook](<#type-updatewebhook>)


## func AddRegistry

```go
func AddRegistry(c *gin.Context)
```

DeployImage godoc @Summary Deploy an image from a Registry\. @Description Deployment with all configuration\. @Tags deploy @Accept \*/\* @Produce json @Param req body RegistryAuthRequest true "body data" @Success 200 @Router /registry \[post\]

## func BatchDeployImage

```go
func BatchDeployImage(c *gin.Context)
```

DeployImage godoc @Summary Deploy an Image Batch @Description Deployment with all configuration\, if one of the deployment fail\, the response still OK @Tags deploy\, batch @Accept \*/\* @Produce json @Param req body util\.BatchDeployImageRequest true  "Batch deployment" @Success 200 \{object\} util\.DeployImageResponse

## func DeleteDeployment

```go
func DeleteDeployment(c *gin.Context)
```

DeleteContainer godoc @Summary Delete running container by name @Description Delete running container by name with status and state @Tags runtime @Accept \*/\* @Produce json @Param containerName path string true "containerName" @Param containerPreName path string true "containerPreName" @Success 200 @Router /containers/\{containerPreName\}/\{containerName\} \[delete\]

## func DeployImage

```go
func DeployImage(c *gin.Context)
```

DeployImage godoc @Summary Deploy an image from a Registry\. @Description Deployment with all configuration\. @Tags deploy @Accept \*/\* @Produce json @Param req body util\.DeployImageRequest true "Deploy Image Request" @Success 200 \{object\} util\.DeployImageResponse @Router /deploy \[post\]

## func DeployVersion

```go
func DeployVersion(c *gin.Context)
```

DeployVersion godoc @Summary Deploy a Complete Product with Version Info @Description Deployment with all configuration and version\, if one of the deployment fail\, the response still OK @Tags deploy\, batch @Accept json @Produce json @Param req body util\.DeployVersionRequest true "Batch deploy with version data" @Success 200 \{object\} util\.DeployVersionResponse @Router /deploy/version \[post\]

## func DescribeDeployment

```go
func DescribeDeployment(c *gin.Context)
```

InspectContainer godoc @Summary Inspect the container by name @Description Inspect an existing container by name @Tags runtime @Accept \*/\* @Produce json @Param containerName path string true "containerName" @Param containerPreName path string true "containerPreName" @Success 200 \{object\} types\.ContainerJSON @Failure 400 \{object\} model\.ErrorResponse @Failure 404 \{object\} model\.ErrorResponse @Router /containers/\{containerPreName\}/\{containerName\}/inspect \[get\]

## func GetDeploymentLogs

```go
func GetDeploymentLogs(c *gin.Context)
```

GetContainerLogs godoc @Summary Get the logs of the container by name @Description Get the logs of an existing container by name @Tags runtime @Accept \*/\* @Produce json @Param containerName path string true "containerName" @Param containerPreName path string true "containerPreName" @Param skip query int false "paginationSkip" default\(0\) @Param take query int false "paginationTake" default\(100\) @Success 200 \{array\} \[\]string @Failure 400 \{object\} model\.ErrorResponse @Failure 404 \{object\} model\.ErrorResponse @Router /containers/\{containerPreName\}/\{containerName\}/logs \[get\]

## func GetDeploymentStatus

```go
func GetDeploymentStatus(c *gin.Context)
```

GetContainerStatus godoc @Summary Get running containers by name @Description Get running container by name with status and state @Tags runtime @Accept \*/\* @Produce json @Param containerName path string true "containerName" @Param containerPreName path string true "containerPreName" @Success 200 \{object\} model\.ContainerStatusResponse @Router /containers/\{containerPreName\}/\{containerName\}/status \[get\]

## func GetDeployments

```go
func GetDeployments(c *gin.Context)
```

GetDeployments godoc @Summary Get list of available deployments\. @Tags k8s @Accept \*/\* @Produce json @Success 200 \{object\} v1\.DeploymentList @Router /deployments \[get\]

## func GetNamespaces

```go
func GetNamespaces(c *gin.Context)
```

GetNamespaces godoc @Summary Get list of available namespaces\. @Tags k8s @Accept \*/\* @Produce json @Success 200 \{object\} \[\]model\.Namespace @Router /namespaces \[get\]

## func UpdateRunningCrane

```go
func UpdateRunningCrane(c *gin.Context)
```

UpdateRunningcrane godoc @Summary Updates running agent @Description Incoming webhook triggers a one\-shot check for updates in the configured remote registry @Tags monitoring @Accept \*/\* @Produce json @Success 200 @Router /update \[post\]

## type DeploymentQuery

```go
type DeploymentQuery struct {
    ContainerPreName string `uri:"preName"  binding:"required"`
    ContainerName    string `uri:"name" binding:"required"`
}
```

## type RegistryAuthRequest

```go
type RegistryAuthRequest struct {
    Namespace string `json:"namespace" binding:"required"`
    Name      string `json:"name" binding:"required"`
    Server    string `json:"server" binding:"required"`
    User      string `json:"user" binding:"required"`
    Password  string `json:"password" binding:"required"`
}
```

## type UpdateWebhook

```go
type UpdateWebhook struct {
    Token *string `json:"token" binding:"required"`
}
```

# k8s

```go
import "gitlab.com/dyrector_io/dyrector.io/go/pkg/crane/k8s"
```

## Index

- [Constants](<#constants>)
- [func DeleteNamespace(name string) error](<#func-deletenamespace>)
- [func DeploymentStatus(namespace, name string) (*model.ContainerStatusResponse, error)](<#func-deploymentstatus>)
- [type DeleteFacade](<#type-deletefacade>)
- [type DeployFacade](<#type-deployfacade>)
- [type DeployFacadeParams](<#type-deployfacadeparams>)
- [type IngressPortMap](<#type-ingressportmap>)
- [type Namespace](<#type-namespace>)
  - [func GetNamespaces() ([]Namespace, error)](<#func-getnamespaces>)


## Constants

```go
const CraneUpdatedAnnotation = "crane.dyrector.io/restartedAt"
```

```go
const ImportContainerImage = "rclone/rclone:1.57.0"
```

## func DeleteNamespace

```go
func DeleteNamespace(name string) error
```

## func DeploymentStatus

```go
func DeploymentStatus(namespace, name string) (*model.ContainerStatusResponse, error)
```

DeploymentStatus get collective status of relevant k8s objects

## type DeleteFacade

```go
type DeleteFacade interface {
    Delete(namespace, name string) error
}
```

## type DeployFacade

```go
type DeployFacade interface {
    CheckPreConditions() error
    PreDeploy() error
    Deploy() error
    PostDeploy() error
    Clear() error
}
```

## type DeployFacadeParams

```go
type DeployFacadeParams struct {
    Image           util.ImageURI
    InstanceConfig  util.InstanceConfig
    ContainerConfig util.ContainerConfig
    RuntimeConfig   *string
}
```

## type IngressPortMap

data: 9000: "default/example\-go:8080" this is/was needed to expose ancient ports \- passive ftp

```go
type IngressPortMap struct {
    TCP   map[uint16]string `yaml:"tcp"`
    Ports map[string]int    `yaml:"ports"`
}
```

## type Namespace

namespace entity

```go
type Namespace struct {
    Name string `json:"name" binding:"required"`
}
```

### func GetNamespaces

```go
func GetNamespaces() ([]Namespace, error)
```

# model

```go
import "gitlab.com/dyrector_io/dyrector.io/go/pkg/crane/model"
```

## Index

- [Constants](<#constants>)
- [type ContainerStatusResponse](<#type-containerstatusresponse>)
- [type Error](<#type-error>)
- [type ErrorResponse](<#type-errorresponse>)
  - [func NewErrorResponse(err, val, desc string) ErrorResponse](<#func-newerrorresponse>)
- [type Namespace](<#type-namespace>)


## Constants

```go
const (
    NotFound               = "NOT_FOUND"
    MissingParameter       = "MISSING_PARAMETER"
    MultipleContainerFound = "MULTIPLE_CONTAINER_FOUND"
    ContainerError         = "CONTAINER_ERROR"
    UpdateError            = "UPDATE_ERROR"
    DeployError            = "DEPLOY_ERROR"
    ValidationError        = "VALIDATION_ERROR"
)
```

## type ContainerStatusResponse

```go
type ContainerStatusResponse struct {
    Repository string `json:"repository" binding:"required"`
    Tag        string `json:"tag" binding:"required"`
    State      string `json:"state" binding:"required"`
    Status     string `json:"status" binding:"required"`
}
```

## type Error

```go
type Error struct {
    Error       string `json:"error"`
    Value       string `json:"value"`
    Description string `json:"description"`
}
```

## type ErrorResponse

```go
type ErrorResponse struct {
    Errors []Error `json:"errors"`
}
```

### func NewErrorResponse

```go
func NewErrorResponse(err, val, desc string) ErrorResponse
```

error creator response with a single error

## type Namespace

```go
type Namespace struct {
    Name string `json:"name" binding:"required"`
}
```

# route

```go
import "gitlab.com/dyrector_io/dyrector.io/go/pkg/crane/route"
```

## Index

- [func SetupHub(r *gin.Engine) *gin.Engine](<#func-setuphub>)
- [func SetupRouterV1(r *gin.Engine) *gin.Engine](<#func-setuprouterv1>)
- [func SetupUpdate(r *gin.Engine) *gin.Engine](<#func-setupupdate>)


## func SetupHub

```go
func SetupHub(r *gin.Engine) *gin.Engine
```

## func SetupRouterV1

```go
func SetupRouterV1(r *gin.Engine) *gin.Engine
```

## func SetupUpdate

```go
func SetupUpdate(r *gin.Engine) *gin.Engine
```

# util

```go
import "gitlab.com/dyrector_io/dyrector.io/go/pkg/crane/util"
```

Package util contains deployment types\, middlewares\, constants\, signalr implementation

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func GetClientSet() (*kubernetes.Clientset, error)](<#func-getclientset>)
- [func GetDeployments(namespace string) (*v1.DeploymentList, error)](<#func-getdeployments>)
- [func GetEnv(key, fallback string) string](<#func-getenv>)
- [func GetRegistryURL(registry *string, registryAuth *RegistryAuth) string](<#func-getregistryurl>)
- [func GetRegistryURLProto(registry *string, registryAuth *agent.DeployRequest_RegistryAuth) string](<#func-getregistryurlproto>)
- [func GetSignalrServInstance() signalr.Server](<#func-getsignalrservinstance>)
- [func JoinV(separator string, items ...string) string](<#func-joinv>)
- [func MapAppsettingsToEnv(in *string) (map[string]string, error)](<#func-mapappsettingstoenv>)
- [func RemoteLog(deployImageRequest *DeployImageRequest, message string)](<#func-remotelog>)
- [func RemoteLog2(requestID *string, message ...string)](<#func-remotelog2>)
- [func RemoteLogz(deployImageRequest *DeployImageRequest, messages []string)](<#func-remotelogz>)
- [func RemoveJSONComment(strIn []byte) []byte](<#func-removejsoncomment>)
- [func RequestLogger() gin.HandlerFunc](<#func-requestlogger>)
- [type AppHub](<#type-apphub>)
  - [func (h *AppHub) OnConnected(connectionID string)](<#func-apphub-onconnected>)
  - [func (h *AppHub) OnDisconnected(connectionID string)](<#func-apphub-ondisconnected>)
  - [func (h *AppHub) SendRemoteLog(requestID, message string)](<#func-apphub-sendremotelog>)
- [type Base64JSONBytes](<#type-base64jsonbytes>)
  - [func (config *Base64JSONBytes) UnmarshalJSON(b []byte) error](<#func-base64jsonbytes-unmarshaljson>)
- [type BatchDeployImageRequest](<#type-batchdeployimagerequest>)
- [type BatchDeployImageResponse](<#type-batchdeployimageresponse>)
- [type ConfigContainer](<#type-configcontainer>)
- [type ContainerConfig](<#type-containerconfig>)
  - [func (config ContainerConfig) MarshalJSON() ([]byte, error)](<#func-containerconfig-marshaljson>)
  - [func (config *ContainerConfig) UnmarshalJSON(b []byte) error](<#func-containerconfig-unmarshaljson>)
- [type DeployImageRequest](<#type-deployimagerequest>)
  - [func (d *DeployImageRequest) Strings() []string](<#func-deployimagerequest-strings>)
- [type DeployImageResponse](<#type-deployimageresponse>)
- [type DeployVersionRequest](<#type-deployversionrequest>)
- [type DeployVersionResponse](<#type-deployversionresponse>)
- [type EmptyImageError](<#type-emptyimageerror>)
  - [func (e *EmptyImageError) Error() string](<#func-emptyimageerror-error>)
- [type GinMappable](<#type-ginmappable>)
  - [func (g *GinMappable) Handle(pattern string, handler http.Handler)](<#func-ginmappable-handle>)
  - [func (g *GinMappable) HandleFunc(pattern string, handler func(writer http.ResponseWriter, req *http.Request))](<#func-ginmappable-handlefunc>)
- [type HealthCheckConfig](<#type-healthcheckconfig>)
- [type ImageURI](<#type-imageuri>)
  - [func ImageURIFromString(imageName string) (*ImageURI, error)](<#func-imageurifromstring>)
  - [func (image *ImageURI) String() string](<#func-imageuri-string>)
  - [func (image *ImageURI) StringNoTag() string](<#func-imageuri-stringnotag>)
- [type ImportContainer](<#type-importcontainer>)
- [type IngressConfig](<#type-ingressconfig>)
- [type InstanceConfig](<#type-instanceconfig>)
  - [func (config InstanceConfig) MarshalJSON() ([]byte, error)](<#func-instanceconfig-marshaljson>)
  - [func (config *InstanceConfig) UnmarshalJSON(b []byte) error](<#func-instanceconfig-unmarshaljson>)
- [type InvalidImageURIError](<#type-invalidimageurierror>)
  - [func (e *InvalidImageURIError) Error() string](<#func-invalidimageurierror-error>)
- [type MultiColonRegistryURIError](<#type-multicolonregistryurierror>)
  - [func (e *MultiColonRegistryURIError) Error() string](<#func-multicolonregistryurierror-error>)
- [type PortBinding](<#type-portbinding>)
- [type PortRange](<#type-portrange>)
- [type PortRangeBinding](<#type-portrangebinding>)
- [type Probe](<#type-probe>)
- [type RegistryAuth](<#type-registryauth>)
- [type RuntimeConfigType](<#type-runtimeconfigtype>)
- [type Volume](<#type-volume>)
- [type VolumeType](<#type-volumetype>)
  - [func (vt *VolumeType) UnmarshalJSON(b []byte) error](<#func-volumetype-unmarshaljson>)


## Constants

numbers from

```go
const (
    Base10                = 10
    Size32                = 32
    Size64                = 64
    DefaultTimeoutSeconds = 5
)
```

configuration strings

```go
const (
    UpdateTypeWebhook       = "webhook"
    UpdateTypePoll          = "poll"
    RegistryUserEnvName     = "UPDATE_REGISTRY_USER"
    RegistryPasswordEnvName = "UPDATE_REGISTRY_PASSWORD"
    IngressRootDomainEnv    = "INGRESS_DOMAIN_ROOT"
    DefaultVolumeSize       = "DEFAULT_VOLUME_SIZE"
    FieldManagerName        = "crane-dyrector-io"
)
```

container related consts

```go
const (
    Exited               = "exited"
    Created              = "created"
    Running              = "running"
    Restart              = "restart"
    DockerSockPath       = "/var/run/docker.sock"
    UpdaterContainerName = "crane-updater"
    AgentContainerName   = "crane-go"
)
```

```go
const (
    DotnetAppSettingsJSON = "dotnet-appsettings"
)
```

```go
const KeepAliveSeconds = 60
```

```go
const KubeTimeout = 2 * time.Minute
```

```go
const PartCountAfterSplitByColon = 2
```

## Variables

```go
var HubServ signalr.Server
```

## func GetClientSet

```go
func GetClientSet() (*kubernetes.Clientset, error)
```

## func GetDeployments

```go
func GetDeployments(namespace string) (*v1.DeploymentList, error)
```

## func GetEnv

```go
func GetEnv(key, fallback string) string
```

## func GetRegistryURL

```go
func GetRegistryURL(registry *string, registryAuth *RegistryAuth) string
```

## func GetRegistryURLProto

```go
func GetRegistryURLProto(registry *string, registryAuth *agent.DeployRequest_RegistryAuth) string
```

## func GetSignalrServInstance

```go
func GetSignalrServInstance() signalr.Server
```

GetSignalrServInstance if not yet initialized spawn a signaler hub\, useful for tests

## func JoinV

```go
func JoinV(separator string, items ...string) string
```

## func MapAppsettingsToEnv

```go
func MapAppsettingsToEnv(in *string) (map[string]string, error)
```

## func RemoteLog

```go
func RemoteLog(deployImageRequest *DeployImageRequest, message string)
```

## func RemoteLog2

```go
func RemoteLog2(requestID *string, message ...string)
```

## func RemoteLogz

```go
func RemoteLogz(deployImageRequest *DeployImageRequest, messages []string)
```

## func RemoveJSONComment

```go
func RemoveJSONComment(strIn []byte) []byte
```

## func RequestLogger

```go
func RequestLogger() gin.HandlerFunc
```

## type AppHub

```go
type AppHub struct {
    signalr.Hub
}
```

### func \(\*AppHub\) OnConnected

```go
func (h *AppHub) OnConnected(connectionID string)
```

### func \(\*AppHub\) OnDisconnected

```go
func (h *AppHub) OnDisconnected(connectionID string)
```

### func \(\*AppHub\) SendRemoteLog

```go
func (h *AppHub) SendRemoteLog(requestID, message string)
```

## type Base64JSONBytes

```go
type Base64JSONBytes []byte
```

### func \(\*Base64JSONBytes\) UnmarshalJSON

```go
func (config *Base64JSONBytes) UnmarshalJSON(b []byte) error
```

custom struct unmarshal JSON interface implementation

## type BatchDeployImageRequest

```go
type BatchDeployImageRequest []DeployImageRequest
```

## type BatchDeployImageResponse

```go
type BatchDeployImageResponse []DeployImageResponse
```

## type ConfigContainer

```go
type ConfigContainer struct {
    Image     string `json:"image" binding:"required"`
    Volume    string `json:"volume" binding:"required"`
    Path      string `json:"path" binding:"required"`
    KeepFiles bool   `json:"keepFiles"`
}
```

## type ContainerConfig

```go
type ContainerConfig struct {
    // ContainerPreName identifies namespace to be used
    ContainerPreName string `json:"containerPreName"`
    // name of the container used for service, configmap names, various component names
    Container string `json:"container" binding:"required"`
    // portbinding list contains external/interal ports
    Ports []PortBinding `json:"port" binding:"dive"`
    // Port ranges to be exposed ! no native range support in k8s
    PortRanges []PortRangeBinding `json:"portRanges" binding:"dive"`
    // mount list, if a name starts with @ it can be used by multiple components eg @data|/target/mount/path
    Mounts []string `json:"mount"`
    // volumes
    Volumes []Volume `json:"volumes,omitempty" binding:"dive"`
    // environment variables list
    Environment []string `json:"environment"`
    // networkmode is irrelevant
    NetworkMode string `json:"networkMode"`
    // the type of the runtime text provided eg. dotnet-appsettings
    RuntimeConfigType RuntimeConfigType `json:"runtimeConfigType"`
    // create an ingress object or not
    Expose bool `json:"expose"`
    // use nginx tls configuration
    ExposeTLS bool `json:"exposeTls"`
    // ingress prefix before hostname, `containerName.containerPrefix.<ingress root>` by default, this replaces both before root
    IngressName string `json:"ingressName"`
    // ingress hostname, env value used by default, can be overridden here
    IngressHost string `json:"ingressHost"`
    // add proxy and cors headers
    ProxyHeaders bool `json:"proxyHeaders"`
    // Expose service using external IP
    UseLoadBalancer bool `json:"useLoadBalancer"`
    // Set endpoint upload limit, default value is: 1m
    IngressUploadLimit string `json:"ingessUploadLimit"`
    // if put together with another instances consume their shared configs eg. -common config map, generated from here
    Shared bool `json:"shared"`
    // config container is spawned as an initcontainer copying files to a shared volume
    ConfigContainer *ConfigContainer `json:"configContainer,omitempty"`
    // import container uses rclone to copy over files before container startup
    ImportContainer *ImportContainer `json:"importContainer,omitempty"`
    // container user id
    User int64 `json:"user"`
    // health check configuration
    HealthCheckConfig HealthCheckConfig `json:"healthCheck"`
}
```

### func \(ContainerConfig\) MarshalJSON

```go
func (config ContainerConfig) MarshalJSON() ([]byte, error)
```

custom struct marshal JSON interface implementation function header is needed as it is\, therefore the lint error is false nolint

### func \(\*ContainerConfig\) UnmarshalJSON

```go
func (config *ContainerConfig) UnmarshalJSON(b []byte) error
```

custom struct unmarshal JSON interface implementation

## type DeployImageRequest

```go
type DeployImageRequest struct {
    RequestID       string          `json:"RequestId" binding:"required"`
    RegistryAuth    *RegistryAuth   `json:"RegistryAuth,omitempty"`
    InstanceConfig  InstanceConfig  `json:"InstanceConfig" binding:"required"`
    ContainerConfig ContainerConfig `json:"ContainerConfig" binding:"required"`
    RuntimeConfig   Base64JSONBytes `json:"RuntimeConfig,omitempty"`
    Registry        *string         `json:"Registry,omitempty"`
    ImageName       string          `json:"ImageName" binding:"required"`
    Tag             string          `json:"Tag" binding:"required"`
}
```

### func \(\*DeployImageRequest\) Strings

```go
func (d *DeployImageRequest) Strings() []string
```

## type DeployImageResponse

```go
type DeployImageResponse struct {
    Started bool `json:"started"`
}
```

## type DeployVersionRequest

```go
type DeployVersionRequest struct {
    Version      string               `json:"version" binding:"required"`
    DeployImages []DeployImageRequest `json:"deployImageRequest" binding:"dive,min=1"`
}
```

## type DeployVersionResponse

```go
type DeployVersionResponse struct{}
```

## type EmptyImageError

```go
type EmptyImageError struct{}
```

### func \(\*EmptyImageError\) Error

```go
func (e *EmptyImageError) Error() string
```

## type GinMappable

```go
type GinMappable struct {
    *gin.RouterGroup
}
```

### func \(\*GinMappable\) Handle

```go
func (g *GinMappable) Handle(pattern string, handler http.Handler)
```

### func \(\*GinMappable\) HandleFunc

```go
func (g *GinMappable) HandleFunc(pattern string, handler func(writer http.ResponseWriter, req *http.Request))
```

HandleFunc registers the handler function for the given pattern\.

## type HealthCheckConfig

```go
type HealthCheckConfig struct {
    Port           uint16 `json:"Port"`
    LivenessProbe  *Probe `json:"livenessProbe"`
    ReadinessProbe *Probe `json:"readinessProbe"`
    StartupProbe   *Probe `json:"startupProbe"`
}
```

## type ImageURI

```go
type ImageURI struct {
    Host string
    Name string
    Tag  string
}
```

### func ImageURIFromString

```go
func ImageURIFromString(imageName string) (*ImageURI, error)
```

ImageURIFromString results in an image that is split respectively imageName can be fully qualified or dockerhub image name plus tag

### func \(\*ImageURI\) String

```go
func (image *ImageURI) String() string
```

### func \(\*ImageURI\) StringNoTag

```go
func (image *ImageURI) StringNoTag() string
```

## type ImportContainer

Import container builds on rclone container https://rclone.org/ refer to docs Idea: shift this one level up\, this should not be visible in container configs Reason: it is not user configured data Note:

Use environment variables to set auth credentials Use command field to define instruction \~30 remote storage is supported

```go
type ImportContainer struct {
    // environment used to pass down secrets to the container
    // for Azure refer to rclone docs: https://rclone.org/azureblob/
    // one way to go either RCLONE_AZUREBLOB_ACCOUNT with RCLONE_AZUREBLOB_KEY
    // or using RCLONE_AZUREBLOB_SAS_URL list, read privileges needed
    Environments map[string]string `json:"environments" binding:"required"`
    // target volume name, volume name that is present on the deployment
    Volume string `json:"volume" binding:"required"`
    // for azureblob storage use `sync :azuresync:<container>/<product-guid>/<version-guid>/<component>/<volume>`
    Command string `json:"command" binding:"required"`
}
```

## type IngressConfig

```go
type IngressConfig struct {
    // name override, default set ingress route can be overwritten, default used otherwise
    BaseDomain string `json:"baseDomain"`
    // domain list, one is fine
    Domains []string `json:"domains"`
}
```

## type InstanceConfig

```go
type InstanceConfig struct {
    // prefix of the container, identifies namespace
    ContainerPreName string `json:"containerPreName" binding:"required"`
    // not-in-use
    MountPath string `json:"mountPath"`
    // name of the instance eg. configmaps
    Name string `json:"name" binding:"required_with=Environment"`
    // variables for instance; configmaps: name-common, name must be defined
    Environment []string `json:"environment,omitempty"`
    // not-in-use/unimplemented; registry is taken from containerConfig
    Registry string `json:"registry"`
    // not-in-use/unimplemented; git repository prefix
    RepositoryPreName string `json:"repositoryPreName"`
    // namespace global envs
    SharedEnvironment []string `json:"sharedEnvironment,omitempty"`
    // use preexisting namespaced envs
    UseSharedEnvs bool `json:"useSharedEnvs" validate:"excluded_with=SharedEnvironment"`
}
```

### func \(InstanceConfig\) MarshalJSON

```go
func (config InstanceConfig) MarshalJSON() ([]byte, error)
```

custom struct marshal JSON interface implementation with base64 encoding nolint

### func \(\*InstanceConfig\) UnmarshalJSON

```go
func (config *InstanceConfig) UnmarshalJSON(b []byte) error
```

custom struct unmarshal JSON interface implementation

## type InvalidImageURIError

```go
type InvalidImageURIError struct {
    Image string
}
```

### func \(\*InvalidImageURIError\) Error

```go
func (e *InvalidImageURIError) Error() string
```

## type MultiColonRegistryURIError

```go
type MultiColonRegistryURIError struct{}
```

### func \(\*MultiColonRegistryURIError\) Error

```go
func (e *MultiColonRegistryURIError) Error() string
```

## type PortBinding

```go
type PortBinding struct {
    ExposedPort uint16 `json:"exposedPort" binding:"required,gte=0,lte=65535"`
    PortBinding uint16 `json:"portBinding" binding:"required,gte=0,lte=65535"`
}
```

## type PortRange

```go
type PortRange struct {
    From uint16 `json:"from" binding:"required,gte=0,lte=65535"`
    To   uint16 `json:"to" binding:"required,gtefield=From,lte=65535"`
}
```

## type PortRangeBinding

```go
type PortRangeBinding struct {
    Internal PortRange `json:"internal" binding:"required"`
    External PortRange `json:"external" binding:"required"`
}
```

## type Probe

```go
type Probe struct {
    Path string `json:"path"`
}
```

## type RegistryAuth

```go
type RegistryAuth struct {
    Name     string `json:"name" binding:"required"`
    URL      string `json:"url" binding:"required"`
    User     string `json:"user" binding:"required"`
    Password string `json:"password" binding:"required"`
}
```

## type RuntimeConfigType

```go
type RuntimeConfigType string
```

## type Volume

### Verbose volume definitions with support of size and type parameters

Example JSON defining a temporal volume: "volumes": \[\{ "name": "app\-import"\, "path": "/path/in/container"\, "size": "10Gi"\, "type": "tmp" \}\]

```go
type Volume struct {
    // name of the volume, the prefix will be the pod using it
    Name string `json:"name"`

    // mount path of the given deployment
    Path string `json:"path" binding:"required"`

    // required size, not guaranteed that the provisioned size will match
    Size string `json:"size"`

    // type of the volume: RO,RW,RWX,mem,tmp
    // RO: readonly
    // RW: readwrite once normal (default)
    // RWX: readwrite many, shared volume within the instance
    // mem: use inmemory tmpfs
    // tmp: use tmpfs, with disk
    Type string `json:"type"`
}
```

## type VolumeType

```go
type VolumeType string
```

```go
const EmptyDirVolumeType VolumeType = "tmp"
```

```go
const MemoryVolumeType VolumeType = "mem"
```

```go
const ReadOnlyVolumeType VolumeType = "RO"
```

```go
const ReadWriteManyVolumeType VolumeType = "RWX"
```

```go
const ReadWriteOnceVolumeType VolumeType = "RWO" // same as empty string
```

### func \(\*VolumeType\) UnmarshalJSON

```go
func (vt *VolumeType) UnmarshalJSON(b []byte) error
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
